# üì± –ê–¥–∞–ø—Ç–∞—Ü–∏—è MetaProxy-Trader –¥–ª—è Android Studio AVD

## ‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

**–•–æ—Ä–æ—à–∏–µ –Ω–æ–≤–æ—Å—Ç–∏:** –ü—Ä–æ–µ–∫—Ç **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º** —Å Android Studio AVD! 

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
- ‚úÖ **MITM Proxy** (Global_JSON_Response_Extractor.py)
- ‚úÖ **Appium –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** (–æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞)
- ‚úÖ **–õ–æ–≥–∏–∫–∞ –ø–æ–∏—Å–∫–∞** (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–º–±–∏–Ω–∞—Ü–∏–π)
- ‚úÖ **–í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏** (requirements.txt)

### –ß—Ç–æ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:
- ‚öôÔ∏è **Device Name** –≤ —Å–∫—Ä–∏–ø—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
- ‚öôÔ∏è **–ü—É—Ç—å –∫ APK** —Ñ–∞–π–ª—É
- ‚öôÔ∏è **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∫—Å–∏** –≤ AVD

---

## üîß –ü–æ—à–∞–≥–æ–≤–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ AVD

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Android Studio**
2. **–°–æ–∑–¥–∞–π—Ç–µ AVD:**
   - Tools ‚Üí AVD Manager
   - Create Virtual Device
   - –í—ã–±–µ—Ä–∏—Ç–µ: **Pixel 3** + **Android 9.0 (API 28)**
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
     - RAM: 4GB
     - Storage: 32GB
     - Graphics: Hardware

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ MetaTrader 4:**
   - –°–∫–∞—á–∞–π—Ç–µ APK —Ñ–∞–π–ª
   - –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –≤ AVD –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —á–µ—Ä–µ–∑ Google Play

### –®–∞–≥ 2: –ü–æ–ª—É—á–µ–Ω–∏–µ Device Name

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ AVD –≤ Android Studio
# –ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É:
adb devices

# –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
# List of devices attached
# emulator-5554    device
```

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∫—Å–∏ –≤ AVD

1. **–û—Ç–∫—Ä–æ–π—Ç–µ AVD**
2. **Settings ‚Üí Network & Internet ‚Üí Wi-Fi**
3. **–î–ª–∏–Ω–Ω—ã–π —Ç–∞–ø –Ω–∞ —Å–µ—Ç—å ‚Üí Modify Network**
4. **Advanced Options ‚Üí Manual Proxy**
5. **–í–≤–µ–¥–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
   ```
   Proxy hostname: [IP_–í–ê–®–ï–ì–û_–ö–û–ú–ü–¨–Æ–¢–ï–†–ê]
   Proxy port: 8080
   ```
6. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**

### –®–∞–≥ 4: –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Å–∫—Ä–∏–ø—Ç–∞

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª `Automation_MT4_AVD.py` –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ `Automation_MT4.py`:

```python
desired_cap = {
    "platformName": "Android",
    "appium:appPackage": "net.metaquotes.metatrader4",
    "appium:appActivity": "net.metaquotes.metatrader4.ui.MainActivity",
    # –ò–ó–ú–ï–ù–ò–¢–¨: –£–∫–∞–∂–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å –∫ APK —Ñ–∞–π–ª—É
    "appium:app": "/path/to/MetaTrader4.apk",  # ‚Üê –ò–ó–ú–ï–ù–ò–¢–¨
    # –ò–ó–ú–ï–ù–ò–¢–¨: –£–∫–∞–∂–∏—Ç–µ deviceName –≤–∞—à–µ–≥–æ AVD
    "appium:deviceName": "emulator-5554"        # ‚Üê –ò–ó–ú–ï–ù–ò–¢–¨
}
```

---

## üöÄ –ó–∞–ø—É—Å–∫ —Å AVD

### –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞ (—Ç–∞–∫–∞—è –∂–µ):

**–¢–µ—Ä–º–∏–Ω–∞–ª 1 - MITM Proxy:**
```bash
mitmproxy -s Global_JSON_Response_Extractor.py
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 2 - Appium Server:**
```bash
appium --port 4723
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 3 - –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:**
```bash
# –î–ª—è AVD –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
python Automation_MT4_AVD.py
# –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π:
python Automation_MT4.py
```

---

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ AVD

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
adb devices

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤
adb shell pm list packages | grep metaquotes

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
adb shell settings get global http_proxy
```

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã AVD:

**‚ùå AVD –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:**
- –£–≤–µ–ª–∏—á—å—Ç–µ RAM –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö AVD
- –í–∫–ª—é—á–∏—Ç–µ Hardware Acceleration –≤ BIOS
- –û–±–Ω–æ–≤–∏—Ç–µ Android Studio

**‚ùå –ü—Ä–æ–∫—Å–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ AVD –ø–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ IP –∞–¥—Ä–µ—Å –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ—Ä—Ç 8080 –Ω–µ –∑–∞–Ω—è—Ç

**‚ùå Appium –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ deviceName —á–µ—Ä–µ–∑ `adb devices`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ AVD –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≥—Ä—É–∂–µ–Ω
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Appium Server

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: Genymotion vs AVD

| –ê—Å–ø–µ–∫—Ç | Genymotion | Android Studio AVD |
|--------|------------|-------------------|
| **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê |
| **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê |
| **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê |
| **–ë–µ—Å–ø–ª–∞—Ç–Ω–æ—Å—Ç—å** | ‚ùå (–ø–ª–∞—Ç–Ω—ã–π) | ‚úÖ (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π) |
| **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Android Studio** | ‚ùå | ‚úÖ |

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
- ‚úÖ **AVD –ª—É—á—à–µ** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π** –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å Android Studio
- ‚úÖ **–ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** —Å –ø—Ä–æ–µ–∫—Ç–æ–º

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
- ‚ö†Ô∏è **Genymotion –º–æ–∂–µ—Ç –±—ã—Ç—å –±—ã—Å—Ç—Ä–µ–µ** –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤
- ‚ö†Ô∏è **AVD –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –±–æ–ª—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤**

---

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–ü—Ä–æ–µ–∫—Ç MetaProxy-Trader –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º —Å Android Studio AVD!**

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è AVD:**
- üÜì –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π
- üîß –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å Android Studio
- üì± –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —ç–º—É–ª—è—Ç–æ—Ä Google
- üöÄ –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –ø—Ä–æ–µ–∫—Ç–æ–º

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ò–∑–º–µ–Ω–∏—Ç—å deviceName –≤ —Å–∫—Ä–∏–ø—Ç–µ
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–∫—Å–∏ –≤ AVD
- –£–∫–∞–∑–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å –∫ APK

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ** 